@startuml filter_catches
left to right direction

actor "Användare" as User

rectangle "Fishing Diary App" {

  usecase "Öppna 'My Catches'-sidan" as UC_OpenPage
  usecase "Hämta användarens fångster från Supabase" as UC_FetchCatches
  usecase "Söka fångster (art, plats)" as UC_Search
  usecase "Filtrera fångster efter art" as UC_Filter
  usecase "Sortera fångster" as UC_Sort
  usecase "Visa resultatlista" as UC_DisplayResults
  usecase "Visa detaljer om vald fångst" as UC_ViewCatchDetails
}

User --> UC_OpenPage
UC_OpenPage --> UC_FetchCatches : <<include>>

User --> UC_Search
User --> UC_Filter
User --> UC_Sort

UC_FetchCatches --> UC_DisplayResults : <<include>>
UC_Search --> UC_DisplayResults : <<include>>
UC_Filter --> UC_DisplayResults : <<include>>
UC_Sort --> UC_DisplayResults : <<include>>

User --> UC_ViewCatchDetails

note right of UC_OpenPage
Huvudflöde:

1. Användaren öppnar "My Catches"
2. Systemet hämtar alla fångster
3. Resultatet visas i lista
4. Användaren kan söka, filtrera och sortera
5. Listan uppdateras direkt
end note

note bottom of UC_DisplayResults
Alternativflöden:

- Inga träffar → visa "Inga fångster hittades"
- Nätverksfel → visa felmeddelande
- Ogiltigt filter → återställ standardvy
end note

note right of UC_ViewCatchDetails
Utökning:

Användaren klickar på en fångst
Detaljvy visas med:
- Art
- Plats
- Datum
- Vikt
- Längd
- Bete
- Bild
end note

@enduml